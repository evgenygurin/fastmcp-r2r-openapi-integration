   1 # üéØ R2R MCP Server - –§–∏–Ω–∞–ª—å–Ω—ã–π Summary
   2 
   3 ## ‚úÖ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
   4 
   5 ### 1. –ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π MCP –°–µ—Ä–≤–µ—Ä
   6 - **114 endpoints** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω—ã –∏–∑ R2R OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏
   7 - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **FastMCP 2.13.1** —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π
   8 - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ **stdio** (Claude Desktop) –∏ **HTTP** —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–æ–≤
   9 
  10 ### 2. –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∞—è –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è
  11 
  12 **Resources** (—á—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö):
  13 - `GET /v3/documents` ‚Üí Resource (—Å–ø–∏—Å–æ–∫)
  14 - `GET /v3/documents/{id}` ‚Üí ResourceTemplate (–æ–¥–∏–Ω –¥–æ–∫—É–º–µ–Ω—Ç)
  15 - `GET /v3/chunks` ‚Üí Resource
  16 - `GET /health` ‚Üí Resource
  17 
  18 **Tools** (–º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –æ–ø–µ—Ä–∞—Ü–∏–∏):
  19 - `POST /v3/chunks/search` ‚Üí Tool (–ø–æ–∏—Å–∫)
  20 - `POST /v3/documents` ‚Üí Tool (—Å–æ–∑–¥–∞–Ω–∏–µ)
  21 - `DELETE /v3/documents/{id}` ‚Üí Tool (—É–¥–∞–ª–µ–Ω–∏–µ)
  22 - `POST /v3/documents/{id}/extract` ‚Üí Tool (–∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–µ–π)
  23 - `POST /v3/graphs/{id}/communities/build` ‚Üí Tool (–≥—Ä–∞—Ñ –∑–Ω–∞–Ω–∏–π)
  24 
  25 ### 3. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å R2R API
  26 
  27 #### Documents Management
  28 ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ (hi-res/fast/custom modes)
  29 ‚úÖ –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
  30 ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏ (PATCH/PUT)
  31 ‚úÖ –≠–∫—Å–ø–æ—Ä—Ç –≤ CSV/ZIP
  32 ‚úÖ –ü–∞–≥–∏–Ω–∞—Ü–∏—è –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
  33 
  34 #### Chunks Operations
  35 ‚úÖ –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ —Å PostgreSQL —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
  36 ‚úÖ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏
  37 ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Å—á—ë—Ç –≤–µ–∫—Ç–æ—Ä–Ω—ã—Ö —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤
  38 
  39 #### Collections
  40 ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
  41 ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ —á–ª–µ–Ω–æ–≤ (users + documents)
  42 ‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞
  43 
  44 #### Knowledge Graph
  45 ‚úÖ –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–µ–π (LLM-based)
  46 ‚úÖ –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è
  47 ‚úÖ –≠–∫—Å–ø–æ—Ä—Ç entities/relationships
  48 ‚úÖ –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ —Å–æ–æ–±—â–µ—Å—Ç–≤ (Leiden algorithm)
  49 
  50 #### Conversations
  51 ‚úÖ CRUD –¥–ª—è –¥–∏–∞–ª–æ–≥–æ–≤
  52 ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
  53 ‚úÖ –≠–∫—Å–ø–æ—Ä—Ç –∏—Å—Ç–æ—Ä–∏–∏
  54 
  55 ### 4. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
  56 ‚úÖ Bearer token –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ httpx.AsyncClient
  57 ‚úÖ API –∫–ª—é—á –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env)
  58 ‚úÖ –ù–∏–∫–∞–∫–∏—Ö —Ö–∞—Ä–¥–∫–æ–¥ –∫—Ä–µ–¥–µ–Ω—à–∞–ª–æ–≤
  59 
  60 ### 5. Developer Experience
  61 ‚úÖ Makefile —Å —É–¥–æ–±–Ω—ã–º–∏ –∫–æ–º–∞–Ω–¥–∞–º–∏
  62 ‚úÖ Ruff –¥–ª—è –ª–∏–Ω—Ç–∏–Ω–≥–∞/—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (88 chars)
  63 ‚úÖ Type hints –∏ mypy –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
  64 ‚úÖ –ñ–∏–≤–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (CLAUDE.md)
  65 ‚úÖ Quick Start Guide
  66 
  67 ## üìä –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:
  68 
  69 ```
  70 –Ø–∑—ã–∫:           Python 3.10+
  71 –§—Ä–µ–π–º–≤–æ—Ä–∫:      FastMCP 2.13.1
  72 HTTP Client:    httpx AsyncClient
  73 –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:    3 production + 2 dev
  74 Build System:   hatchling + uv
  75 Code Style:     Ruff (line-length=88, preview mode)
  76 Routes:         114 –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö
  77 Transport:      stdio + HTTP
  78 ```
  79 
  80 ## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
  81 
  82 ### –í–∞—Ä–∏–∞–Ω—Ç 1: Claude Desktop (Production)
  83 
  84 1. –î–æ–±–∞–≤—å—Ç–µ –≤ `~/Library/Application Support/Claude/claude_desktop_config.json`:
  85 ```json
  86 {
  87   "mcpServers": {
  88     "r2r": {
  89       "command": "uv",
  90       "args": ["--directory", "/Users/laptop/dev/fastmcp-r2r-openapi-integration", "run", "python", "-m", "src.server"],
  91       "env": {
  92         "R2R_BASE_URL": "http://localhost:7272",
  93         "R2R_API_KEY": "your_api_key_here"
  94       }
  95     }
  96   }
  97 }
  98 ```
  99 
 100 2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Claude Desktop
 101 
 102 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ - –¥–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è –∏–∫–æ–Ω–∫–∞ üîå
 103 
 104 ### –í–∞—Ä–∏–∞–Ω—Ç 2: HTTP Server (Development)
 105 
 106 ```bash
 107 make run-http
 108 # –°–µ—Ä–≤–µ—Ä –Ω–∞ http://127.0.0.1:8000/mcp
 109 ```
 110 
 111 ## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤:
 112 
 113 ```
 114 fastmcp-r2r-openapi-integration/
 115 ‚îú‚îÄ‚îÄ src/
 116 ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
 117 ‚îÇ   ‚îî‚îÄ‚îÄ server.py          # 111 —Å—Ç—Ä–æ–∫ —á–∏—Å—Ç–æ–≥–æ –∫–æ–¥–∞
 118 ‚îú‚îÄ‚îÄ .env                    # –ö—Ä–µ–¥–µ–Ω—à–∞–ª—ã (gitignored)
 119 ‚îú‚îÄ‚îÄ .env.example
 120 ‚îú‚îÄ‚îÄ openapi.json            # 302KB R2R —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è
 121 ‚îú‚îÄ‚îÄ pyproject.toml
 122 ‚îú‚îÄ‚îÄ Makefile
 123 ‚îú‚îÄ‚îÄ QUICKSTART.md
 124 ‚îú‚îÄ‚îÄ README.md
 125 ‚îú‚îÄ‚îÄ CLAUDE.md
 126 ‚îî‚îÄ‚îÄ SUMMARY.md
 127 ```
 128 
 129 ## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
 130 
 131 1. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ Claude Desktop
 132 2. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è production
 133 3. **–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ**: –î–æ–±–∞–≤–∏—Ç—å custom tools –ø–æ–≤–µ—Ä—Ö –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
 134 4. **CI/CD**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ openapi.json –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ R2R API
 135 
 136 ## üí° Best Practices:
 137 
 138 ‚úÖ –í–°–ï–ì–î–ê –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `make update-spec` –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏
 139 ‚úÖ –ù–ï —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ openapi.json –≤—Ä—É—á–Ω—É—é
 140 ‚úÖ –•–†–ê–ù–ò–¢–ï API –∫–ª—é—á–∏ —Ç–æ–ª—å–∫–æ –≤ .env
 141 ‚úÖ –ò–°–ü–û–õ–¨–ó–£–ô–¢–ï uv –≤–º–µ—Å—Ç–æ pip
 142 ‚úÖ –ó–ê–ü–£–°–ö–ê–ô–¢–ï `make fix` –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–∞–º–∏
 143 
 144 ## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç:
 145 
 146 **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–±–æ—Ç–∞—é—â–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è R2R API —Å Claude —á–µ—Ä–µ–∑ MCP –ø—Ä–æ—Ç–æ–∫–æ–ª!**
 147 
 148 - –ú–∏–Ω–∏–º—É–º –∫–æ–¥–∞ (111 —Å—Ç—Ä–æ–∫ server.py)
 149 - –ú–∞–∫—Å–∏–º—É–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ (114 endpoints)
 150 - Production-ready –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
 151 - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
